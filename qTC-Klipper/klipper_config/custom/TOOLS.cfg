[gcode_macro T0]
variable_type: 2                    # 1 = Physical tool, 2 = ERCF changer
variable_ercf_physical_tool: 0      # Physical tool for the ERCF
variable_zone_x: 585                # X to do a fast approach for when parked.
variable_zone_y: 5                  # Y to do a fast approach for when parked.
variable_park_x: 598                # X to do a slow approach for when parked.
variable_park_y: 5                  # Y to do a slow approach for when parked.
variable_offset_x: 11.28            # Nozzle offset to probe.
variable_offset_y: 4.73             # Nozzle offset to probe.
variable_offset_z: 7.05             # Nozzle offset to probe.
variable_fan: "extruder_partfan"    # Name of general fan configuration connected to this tool as a part fan.
variable_extruder: "extruder"       # Name of extruder connected to this tool.
variable_meltzonelength: 18         # Length of the meltzone for retracting and inserting filament on toolchange. 18mm for e3d Revo
variable_heater_state: 0            # 0 = off, 1 = standby temperature, 2 = active temperature
variable_heater_active_temp: 0      # Temperature to set when in active mode
variable_heater_standby_temp: 0     # Temperature to set when in standby mode
variable_idle_to_standby: 30        # Time in seconds from being parked to setting temperature to standby the temperature above. Use 0.1 to change imediatley to standby temperature.
variable_idle_to_powerdown: 600     # Time in seconds from being parked to setting temperature to 0. Use something like 86400 to wait 24h if you want to disable.
variable_idle_to_wipe_type: 1       # 0 = none, 1= Wipe in front of carriage, 2= Pebble wiper
gcode:
  { action_respond_info("T0 running. "~rawparams) }
  TOOL_PICKUP T=0

[gcode_macro T1]
variable_type: 2                    # 1 = Toolchanging tool, 2 = ERCF changer
variable_ercf_physical_tool: 0      # Physical tool for the ERCF
variable_heater_active_temp: 0      # Temperature to set when in active mode
variable_heater_standby_temp: 0     # Temperature to set when in standby mode
gcode:
  { action_respond_info("T1 running. "~rawparams) }
  TOOL_PICKUP T=1

[gcode_macro T2]
variable_type: 2                    # 1 = Toolchanging tool, 2 = ERCF changer
variable_ercf_physical_tool: 0      # Physical tool for the ERCF
variable_heater_active_temp: 0      # Temperature to set when in active mode
variable_heater_standby_temp: 0     # Temperature to set when in standby mode
gcode:
  { action_respond_info("T2 running. "~rawparams) }
  TOOL_PICKUP T=2

[gcode_macro T3]
variable_type: 2                    # 1 = Toolchanging tool, 2 = ERCF changer
variable_ercf_physical_tool: 0      # Physical tool for the ERCF
variable_heater_active_temp: 0      # Temperature to set when in active mode
variable_heater_standby_temp: 0     # Temperature to set when in standby mode
gcode:
  { action_respond_info("T3 running. "~rawparams) }
  TOOL_PICKUP T=3


[gcode_macro T9]
variable_type: 1                    # 1 = Physical tool, 2 = ERCF changer
variable_park_y: 100
variable_park_x: 598
variable_zone_x: 585
variable_zone_y: 100
variable_offset_x: -0.50
variable_offset_y: -0.49
variable_offset_z: 0.95
variable_fan: "extruder1_partfan"
variable_extruder: "extruder1"
variable_meltzonelength: 18         # Length of the meltzone for retracting and inserting filament on toolchange. 18mm for e3d Revo
variable_heater_state: 0          # 0 = off, 1 = standby temperature, 2 = active temperature
variable_heater_active_temp: 0    # Temperature to set when in active mode
variable_heater_standby_temp: 0   # Temperature to set when in standby mode
variable_idle_to_standby: 30        # in seconds
variable_idle_to_powerdown: 600     # in seconds
gcode:
  { action_respond_info("T9 running. "~rawparams) }
  TOOL_PICKUP T=9

[gcode_macro T49]
variable_park_y: 515
variable_park_x: 598
variable_zone_x: 585
variable_zone_y: 515
variable_offset_x: 0
variable_offset_y: 0
variable_offset_z: 0
variable_fan: "none"
variable_extruder: "none"
gcode:
  { action_respond_info("T49 running. "~rawparams) }

  SAVE_GCODE_STATE NAME=T49
  G91
  G0 Z10
  RESTORE_GCODE_STATE NAME=T49
  TOOL_PICKUP T=49

[delayed_gcode T0_standby]
gcode:
  { action_respond_info("T0_standby running. "~rawparams) }
  SET_HEATER_TEMPERATURE HEATER={printer["gcode_macro T0"].extruder} TARGET={printer["gcode_macro T0"].heater_standby_temp}

[delayed_gcode T0_powerdown]
gcode:
  { action_respond_info("T0_powerdown running. "~rawparams) }
  SET_HEATER_TEMPERATURE HEATER={printer["gcode_macro T0"].extruder} TARGET=0

[delayed_gcode T9_standby]
gcode:
  { action_respond_info("T9_standby running. "~rawparams) }
  SET_HEATER_TEMPERATURE HEATER={printer["gcode_macro T9"].extruder} TARGET={printer["gcode_macro T9"].heater_standby_temp}

[delayed_gcode T9_powerdown]
gcode:
  { action_respond_info("T49 running. "~rawparams) }
  SET_HEATER_TEMPERATURE HEATER={printer["gcode_macro T9_powerdown"].extruder} TARGET=0
